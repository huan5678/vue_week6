(self["webpackChunkvue_week6"]=self["webpackChunkvue_week6"]||[]).push([[885],{7235:function(t,e,n){var r=n(857),o=n(2597),a=n(6061),l=n(3070).f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});o(e,t)||l(e,t,{value:a.f(t)})}},1156:function(t,e,n){var r=n(4326),o=n(5656),a=n(8006).f,l=n(1589),i="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c=function(t){try{return a(t)}catch(e){return l(i)}};t.exports.f=function(t){return i&&"Window"==r(t)?c(t):a(o(t))}},857:function(t,e,n){var r=n(7854);t.exports=r},6061:function(t,e,n){var r=n(5112);e.f=r},7327:function(t,e,n){"use strict";var r=n(2109),o=n(2092).filter,a=n(1194),l=a("filter");r({target:"Array",proto:!0,forced:!l},{filter:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},561:function(t,e,n){"use strict";var r=n(2109),o=n(7854),a=n(1400),l=n(9303),i=n(6244),c=n(7908),u=n(5417),d=n(6135),s=n(1194),p=s("splice"),f=o.TypeError,g=Math.max,h=Math.min,w=9007199254740991,b="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!p},{splice:function(t,e){var n,r,o,s,p,m,y=c(this),v=i(y),x=a(t,v),_=arguments.length;if(0===_?n=r=0:1===_?(n=0,r=v-x):(n=_-2,r=h(g(l(e),0),v-x)),v+n-r>w)throw f(b);for(o=u(y,r),s=0;s<r;s++)p=x+s,p in y&&d(o,s,y[p]);if(o.length=r,n<r){for(s=x;s<v-r;s++)p=s+r,m=s+n,p in y?y[m]=y[p]:delete y[m];for(s=v;s>v-r+n;s--)delete y[s-1]}else if(n>r)for(s=v-r;s>x;s--)p=s+r-1,m=s+n-1,p in y?y[m]=y[p]:delete y[m];for(s=0;s<n;s++)y[s+x]=arguments[s+2];return y.length=v-r+n,o}})},5003:function(t,e,n){var r=n(2109),o=n(7293),a=n(5656),l=n(1236).f,i=n(9781),c=o((function(){l(1)})),u=!i||c;r({target:"Object",stat:!0,forced:u,sham:!i},{getOwnPropertyDescriptor:function(t,e){return l(a(t),e)}})},9337:function(t,e,n){var r=n(2109),o=n(9781),a=n(3887),l=n(5656),i=n(1236),c=n(6135);r({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(t){var e,n,r=l(t),o=i.f,u=a(r),d={},s=0;while(u.length>s)n=o(r,e=u[s++]),void 0!==n&&c(d,e,n);return d}})},7941:function(t,e,n){var r=n(2109),o=n(7908),a=n(1956),l=n(7293),i=l((function(){a(1)}));r({target:"Object",stat:!0,forced:i},{keys:function(t){return a(o(t))}})},1817:function(t,e,n){"use strict";var r=n(2109),o=n(9781),a=n(7854),l=n(1702),i=n(2597),c=n(614),u=n(7976),d=n(1340),s=n(3070).f,p=n(9920),f=a.Symbol,g=f&&f.prototype;if(o&&c(f)&&(!("description"in g)||void 0!==f().description)){var h={},w=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:d(arguments[0]),e=u(g,this)?new f(t):void 0===t?f():f(t);return""===t&&(h[e]=!0),e};p(w,f),w.prototype=g,g.constructor=w;var b="Symbol(test)"==String(f("test")),m=l(g.toString),y=l(g.valueOf),v=/^Symbol\((.*)\)[^)]+$/,x=l("".replace),_=l("".slice);s(g,"description",{configurable:!0,get:function(){var t=y(this),e=m(t);if(i(h,t))return"";var n=b?_(e,7,-1):x(e,v,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:w})}},2526:function(t,e,n){"use strict";var r=n(2109),o=n(7854),a=n(5005),l=n(2104),i=n(6916),c=n(1702),u=n(1913),d=n(9781),s=n(133),p=n(7293),f=n(2597),g=n(3157),h=n(614),w=n(111),b=n(7976),m=n(2190),y=n(9670),v=n(7908),x=n(5656),_=n(4948),D=n(1340),O=n(9114),k=n(30),M=n(1956),P=n(8006),C=n(1156),j=n(5181),S=n(1236),L=n(3070),U=n(6048),z=n(5296),I=n(206),F=n(1320),E=n(2309),T=n(6200),Z=n(3501),q=n(9711),A=n(5112),H=n(6061),V=n(7235),G=n(8003),N=n(9909),B=n(2092).forEach,K=T("hidden"),R="Symbol",W="prototype",Y=A("toPrimitive"),J=N.set,$=N.getterFor(R),Q=Object[W],X=o.Symbol,tt=X&&X[W],et=o.TypeError,nt=o.QObject,rt=a("JSON","stringify"),ot=S.f,at=L.f,lt=C.f,it=z.f,ct=c([].push),ut=E("symbols"),dt=E("op-symbols"),st=E("string-to-symbol-registry"),pt=E("symbol-to-string-registry"),ft=E("wks"),gt=!nt||!nt[W]||!nt[W].findChild,ht=d&&p((function(){return 7!=k(at({},"a",{get:function(){return at(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=ot(Q,e);r&&delete Q[e],at(t,e,n),r&&t!==Q&&at(Q,e,r)}:at,wt=function(t,e){var n=ut[t]=k(tt);return J(n,{type:R,tag:t,description:e}),d||(n.description=e),n},bt=function(t,e,n){t===Q&&bt(dt,e,n),y(t);var r=_(e);return y(n),f(ut,r)?(n.enumerable?(f(t,K)&&t[K][r]&&(t[K][r]=!1),n=k(n,{enumerable:O(0,!1)})):(f(t,K)||at(t,K,O(1,{})),t[K][r]=!0),ht(t,r,n)):at(t,r,n)},mt=function(t,e){y(t);var n=x(e),r=M(n).concat(Dt(n));return B(r,(function(e){d&&!i(vt,n,e)||bt(t,e,n[e])})),t},yt=function(t,e){return void 0===e?k(t):mt(k(t),e)},vt=function(t){var e=_(t),n=i(it,this,e);return!(this===Q&&f(ut,e)&&!f(dt,e))&&(!(n||!f(this,e)||!f(ut,e)||f(this,K)&&this[K][e])||n)},xt=function(t,e){var n=x(t),r=_(e);if(n!==Q||!f(ut,r)||f(dt,r)){var o=ot(n,r);return!o||!f(ut,r)||f(n,K)&&n[K][r]||(o.enumerable=!0),o}},_t=function(t){var e=lt(x(t)),n=[];return B(e,(function(t){f(ut,t)||f(Z,t)||ct(n,t)})),n},Dt=function(t){var e=t===Q,n=lt(e?dt:x(t)),r=[];return B(n,(function(t){!f(ut,t)||e&&!f(Q,t)||ct(r,ut[t])})),r};if(s||(X=function(){if(b(tt,this))throw et("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?D(arguments[0]):void 0,e=q(t),n=function(t){this===Q&&i(n,dt,t),f(this,K)&&f(this[K],e)&&(this[K][e]=!1),ht(this,e,O(1,t))};return d&&gt&&ht(Q,e,{configurable:!0,set:n}),wt(e,t)},tt=X[W],F(tt,"toString",(function(){return $(this).tag})),F(X,"withoutSetter",(function(t){return wt(q(t),t)})),z.f=vt,L.f=bt,U.f=mt,S.f=xt,P.f=C.f=_t,j.f=Dt,H.f=function(t){return wt(A(t),t)},d&&(at(tt,"description",{configurable:!0,get:function(){return $(this).description}}),u||F(Q,"propertyIsEnumerable",vt,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!s,sham:!s},{Symbol:X}),B(M(ft),(function(t){V(t)})),r({target:R,stat:!0,forced:!s},{for:function(t){var e=D(t);if(f(st,e))return st[e];var n=X(e);return st[e]=n,pt[n]=e,n},keyFor:function(t){if(!m(t))throw et(t+" is not a symbol");if(f(pt,t))return pt[t]},useSetter:function(){gt=!0},useSimple:function(){gt=!1}}),r({target:"Object",stat:!0,forced:!s,sham:!d},{create:yt,defineProperty:bt,defineProperties:mt,getOwnPropertyDescriptor:xt}),r({target:"Object",stat:!0,forced:!s},{getOwnPropertyNames:_t,getOwnPropertySymbols:Dt}),r({target:"Object",stat:!0,forced:p((function(){j.f(1)}))},{getOwnPropertySymbols:function(t){return j.f(v(t))}}),rt){var Ot=!s||p((function(){var t=X();return"[null]"!=rt([t])||"{}"!=rt({a:t})||"{}"!=rt(Object(t))}));r({target:"JSON",stat:!0,forced:Ot},{stringify:function(t,e,n){var r=I(arguments),o=e;if((w(e)||void 0!==t)&&!m(t))return g(e)||(e=function(t,e){if(h(o)&&(e=i(o,this,t,e)),!m(e))return e}),r[1]=e,l(rt,null,r)}})}if(!tt[Y]){var kt=tt.valueOf;F(tt,Y,(function(t){return i(kt,this)}))}G(X,R),Z[K]=!0},1885:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return je}});var r=n(6252),o={class:"bg-gray-100"},a={class:"container"};function l(t,e,n,l,i,c){var u=(0,r.up)("ProductsTable"),d=(0,r.up)("ModalCardDelete"),s=(0,r.up)("ModalCardDetail"),p=(0,r.up)("ModalCardAddition"),f=(0,r.up)("vue-final-modal");return(0,r.wg)(),(0,r.iD)("main",o,[(0,r._)("div",a,[(0,r.Wm)(u,{handleOpenModal:l.handleOpenModal},null,8,["handleOpenModal"]),(0,r.Wm)(f,{modelValue:l.isOpenModal,"onUpdate:modelValue":e[0]||(e[0]=function(t){return l.isOpenModal=t}),id:"adminModal",classes:"flex justify-center items-center bg-opacity-50 backdrop-blur-[2px]","content-class":"bg-gray-50 rounded-md shadow-md overflow-hidden","focus-trap":""},{default:(0,r.w5)((function(){return["productDelete"===l.modalState?((0,r.wg)(),(0,r.j4)(d,{key:0,handleOpenModal:l.handleOpenModal},null,8,["handleOpenModal"])):(0,r.kq)("",!0),"getDetail"===l.modalState?((0,r.wg)(),(0,r.j4)(s,{key:1,handleOpenModal:l.handleOpenModal},null,8,["handleOpenModal"])):(0,r.kq)("",!0),"productEdit"===l.modalState||"productCreate"===l.modalState?((0,r.wg)(),(0,r.j4)(p,{key:2,handleOpenModal:l.handleOpenModal},null,8,["handleOpenModal"])):(0,r.kq)("",!0)]})),_:1},8,["modelValue"])])])}var i=n(2262),c=n(2119),u=n(1421),d=n(1219),s=n(3577),p={class:"overflow-auto p-2 space-y-4"},f={class:"flex gap-4 justify-end items-center p-6"},g=(0,r._)("h2",{class:"text-4xl font-medium"},"產品列表",-1),h=(0,r._)("h2",{class:"ml-auto text-xl"},"管理者登出",-1),w={class:"mb-4 bg-gray-50 rounded table-auto"},b=(0,r._)("thead",{class:"bg-gray-800"},[(0,r._)("tr",{class:"text-white"},[(0,r._)("td",{width:"200",class:"p-4 text-lg whitespace-nowrap"},"產品名稱"),(0,r._)("td",{width:"250",class:"p-4 text-lg text-right whitespace-nowrap"},"原價"),(0,r._)("td",{width:"250",class:"p-4 text-lg text-right whitespace-nowrap"},"售價"),(0,r._)("td",{width:"250",class:"p-4 text-lg text-center whitespace-nowrap"},"是否啟用"),(0,r._)("td",{width:"200",class:"p-4 text-lg text-center whitespace-nowrap"},"查看細節"),(0,r._)("td",{colspan:"2",width:"400",class:"p-4 text-lg text-center whitespace-nowrap"},"功能")])],-1),m={class:"py-2 px-4 whitespace-nowrap"},y={class:"py-2 px-4 text-right whitespace-nowrap"},v={class:"py-2 px-4 text-right whitespace-nowrap"},x={key:0,class:"py-2 px-4 text-center text-primary-400 whitespace-nowrap"},_={key:1,class:"py-2 px-4 text-center text-gray-400 whitespace-nowrap"},D={key:2,class:"py-2 px-4 text-center text-warning-600 whitespace-nowrap"},O={key:3,class:"py-2 px-4 text-center text-danger-700 whitespace-nowrap"},k={class:"py-2 px-4 text-center whitespace-nowrap"},M=["onClick"],P={class:"py-2 px-4 text-center whitespace-nowrap"},C=["onClick"],j={class:"py-2 px-4 text-center whitespace-nowrap"},S=["onClick"],L={class:"flex justify-between items-center"},U={class:"flex gap-2 justify-center items-center"},z={class:""},I=["disabled"],F=(0,r._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"",viewBox:"0 0 16 16"},[(0,r._)("path",{"fill-rule":"evenodd",d:"M12 8a.5.5 0 0 1-.5.5H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1\n                0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5a.5.5 0 0 1 .5.5z"})],-1),E=[F],T=["onClick"],Z={class:""},q=["disabled"],A=(0,r._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"",viewBox:"0 0 16 16"},[(0,r._)("path",{"fill-rule":"evenodd",d:"M4 8a.5.5 0 0 1 .5-.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0\n                .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5A.5.5 0 0 1 4 8z"})],-1),H=[A];function V(t,e,n,o,a,l){return(0,r.wg)(),(0,r.iD)("section",p,[(0,r._)("div",f,[g,h,(0,r._)("button",{class:"py-2 px-6 text-white bg-danger-500 hover:bg-danger-600 rounded hover:shadow hover:shadow-danger-400 transition duration-300",onClick:e[0]||(e[0]=function(t){return o.handleIsLogout()})}," 登出 ")]),(0,r._)("table",w,[b,(0,r._)("tbody",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.productList.products,(function(t){return(0,r.wg)(),(0,r.iD)("tr",{class:"hover:bg-gray-200 border-b border-gray-300",key:t.id},[(0,r._)("td",m,(0,s.zw)(t.title),1),(0,r._)("td",y,(0,s.zw)(t.origin_price),1),(0,r._)("td",v,(0,s.zw)(t.price),1),1==t.is_enabled?((0,r.wg)(),(0,r.iD)("td",x," 啟用 ")):0==t.is_enabled?((0,r.wg)(),(0,r.iD)("td",_," 未啟用 ")):2==t.is_enabled?((0,r.wg)(),(0,r.iD)("td",D," 未上架 ")):(0,r.kq)("",!0),3==t.is_enabled?((0,r.wg)(),(0,r.iD)("td",O," 已下架 ")):(0,r.kq)("",!0),(0,r._)("td",k,[(0,r._)("button",{type:"button",class:"py-2 px-4 text-white bg-primary-500 hover:bg-primary-600 rounded hover:shadow hover:shadow-primary-400 transition duration-200",onClick:function(e){return o.openModal("getDetail",t)}}," 查看細節 ",8,M)]),(0,r._)("td",P,[(0,r._)("button",{type:"button",class:"py-2 px-4 text-white bg-secondary-700 rounded hover:bg-secondary-800 hover:shadow hover:shadow-secondary-400 transition duration-200",onClick:function(e){return o.openModal("productEdit",t)}}," 修改內容 ",8,C)]),(0,r._)("td",j,[(0,r._)("button",{type:"button",class:"py-2 px-4 text-white bg-danger-500 hover:bg-danger-600 rounded hover:shadow hover:shadow-danger-400 transition duration-200",onClick:function(e){return o.openModal("productDelete",t)}}," 刪除品項 ",8,S)])])})),128))])]),(0,r._)("div",L,[(0,r._)("p",null,"目前有"+(0,s.zw)(o.productList.products.length)+"項產品",1),(0,r._)("button",{type:"button",class:"py-2 px-4 text-white bg-warning-500 hover:bg-warning-600 rounded hover:shadow hover:shadow-warning-400 transition duration-200",onClick:e[1]||(e[1]=function(t){return o.openModal("productCreate",o.tempProduct)})}," 新增品項 ")]),(0,r._)("div",null,[(0,r._)("ul",U,[(0,r._)("li",z,[(0,r._)("button",{type:"button",class:"p-2 text-primary-500 disabled:text-gray-500 rounded border border-primary-500 disabled:border-gray-400",disabled:!o.productList.pagination.has_pre,onClick:e[2]||(e[2]=function(t){return o.handleGetProductList(o.productList.pagination.current_page-1)})},E,8,I)]),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.productList.pagination.total_pages,(function(t){return(0,r.wg)(),(0,r.iD)("li",{key:t+new Date},[(0,r._)("button",{type:"button",class:(0,s.C_)(["py-[6px] px-3 rounded border-primary-500",{"bg-primary-700 text-white":t===o.productList.pagination.current_page}]),onClick:function(e){return o.handleGetProductList(t)}},(0,s.zw)(t),11,T)])})),128)),(0,r._)("li",Z,[(0,r._)("button",{type:"button",class:"p-2 text-primary-500 disabled:text-gray-500 rounded border border-primary-500 disabled:border-gray-400",disabled:!o.productList.pagination.has_next,onClick:e[3]||(e[3]=function(t){return o.handleGetProductList(o.productList.pagination.current_page+1)})},H,8,q)])])])])}var G={setup:function(t,e){var n=(0,d.Z)(),o=n.adminStore,a=n.adminProductStore,l=o.handleSetLogout,u=o.handleClearToken,s=a.productList,p=a.handleGetProductList,f=a.functionSelected,g=a.handleSelectFunction,h=(0,c.tv)(),w=(0,i.iH)({title:"",category:"",origin_price:0,price:0,unit:"",description:"",content:"",is_enabled:"",imageUrl:"",imagesUrl:[]});function b(){u(),l(),h.push("/")}function m(t,n){e.attrs.handleOpenModal(!0),g(t,n)}return(0,r.bv)((function(){p(),console.log(e.attrs)})),{productList:(0,r.Fl)((function(){return s})),tempProduct:w,handleIsLogout:b,handleGetProductList:p,functionSelected:(0,r.Fl)((function(){return f})),openModal:m}}},N=n(3744);const B=(0,N.Z)(G,[["render",V]]);var K=B,R=(n(2526),n(1817),n(9963)),W={class:"flex overflow-hidden flex-col pb-4 space-y-4 bg-gray-50 rounded-md"},Y={class:"flex justify-between p-4"},J=["src","alt"],$={class:"flex-1 p-4 space-y-8"},Q={class:"flex gap-4 items-center"},X={class:"mb-2 text-xl font-bold"},tt={class:"py-1 px-2 ml-2 text-sm text-white bg-primary-400 rounded"},et={class:"flex gap-1 items-center"},nt={xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",class:"w-6 h-6 text-warning-500",viewBox:"0 0 16 16"},rt=(0,r._)("path",{d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173\n                  6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927\n                  0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83\n                  4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"},null,-1),ot=[rt],at={xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",class:"w-6 h-6 text-gray-400",viewBox:"0 0 16 16"},lt=(0,r._)("path",{d:"M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389\n                  2.256c.386.198.824-.149.746-.592l-.83-4.73\n                  3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513\n                  0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523\n                  3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.565.565 0 0\n                  0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288L8 2.223l1.847\n                  3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.565.565 0 0 0-.163.506l.694\n                  3.957-3.686-1.894a.503.503 0 0 0-.461 0z"},null,-1),it=[lt],ct={class:"space-y-4"},ut={class:"pl-1 text-gray-400 line-through"},dt=(0,r.Uk)(" 個 / 元 "),st={class:"flex overflow-x-auto gap-4"},pt=["src","alt"];function ft(t,e,n,o,a,l){var i=(0,r.up)("ModalCardTitle");return(0,r.wg)(),(0,r.iD)("section",W,[(0,r.Wm)(i,{title:"產品詳細內容","close-modal":o.handleOpenModal},null,8,["close-modal"]),(0,r._)("div",Y,[(0,r._)("img",{class:"max-h-[300px]",src:o.targetProduct.imageUrl,alt:o.targetProduct.title},null,8,J),(0,r._)("div",$,[(0,r._)("div",Q,[(0,r._)("h2",X,[(0,r.Uk)((0,s.zw)(o.targetProduct.title)+" ",1),(0,r._)("span",tt,(0,s.zw)(o.targetProduct.category),1)]),(0,r._)("ul",et,[((0,r.wg)(),(0,r.iD)(r.HY,null,(0,r.Ko)(5,(function(t,e){return(0,r._)("li",{key:t+new Date},[(0,r.wy)(((0,r.wg)(),(0,r.iD)("svg",nt,ot,512)),[[R.F8,o.targetProduct.rating>e]]),(0,r.wy)(((0,r.wg)(),(0,r.iD)("svg",at,it,512)),[[R.F8,o.targetProduct.rating<=e]])])})),64))])]),(0,r._)("ul",ct,[(0,r._)("li",null,"商品描述："+(0,s.zw)(o.targetProduct.description),1),(0,r._)("li",null,"商品內容："+(0,s.zw)(o.targetProduct.content),1),(0,r._)("li",null,[(0,r.Uk)((0,s.zw)(o.targetProduct.price)+" ",1),(0,r._)("span",ut,(0,s.zw)(o.targetProduct.origin_price),1),dt])])])]),(0,r._)("div",st,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.targetProduct.imagesUrl,(function(t){return(0,r.wg)(),(0,r.iD)("img",{key:t,class:"object-cover flex-auto w-1/12 max-h-48",src:t,alt:t},null,8,pt)})),128))])])}var gt={class:"flex justify-between items-center space-y-3 bg-gray-900"},ht={class:"p-4 text-lg text-white"},wt=(0,r._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",class:"w-8 h-8",viewBox:"0 0 16 16"},[(0,r._)("path",{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707\n          8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0\n          1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"})],-1),bt=[wt];function mt(t,e,n,o,a,l){return(0,r.wg)(),(0,r.iD)("div",gt,[(0,r._)("h2",ht,(0,s.zw)(o.title),1),(0,r._)("button",{type:"button",class:"p-4 text-gray-50 hover:text-gray-100 transition-all duration-200 ease-in-out hover:scale-125",onClick:e[0]||(e[0]=function(){return o.closeModal&&o.closeModal.apply(o,arguments)})},bt)])}var yt={setup:function(t,e){console.log(e.attrs);var n=e.attrs.title;function r(){e.attrs["close-modal"](!1)}return{title:n,closeModal:r}}};const vt=(0,N.Z)(yt,[["render",mt]]);var xt=vt,_t={components:{ModalCardTitle:xt},setup:function(t,e){var n=(0,d.Z)(),o=n.adminProductStore;return{targetProduct:(0,r.Fl)((function(){return o.productList.tempProduct})),handleOpenModal:e.attrs.handleOpenModal}}};const Dt=(0,N.Z)(_t,[["render",ft]]);var Ot=Dt,kt={class:"overflow-hidden space-y-4 bg-gray-50 rounded-md"},Mt={class:"p-2 text-xl text-center text-secondary-500"},Pt={class:"container flex gap-4 justify-between p-4"};function Ct(t,e,n,o,a,l){var i=(0,r.up)("ModalCardTitle");return(0,r.wg)(),(0,r.iD)("section",kt,[(0,r.Wm)(i,{title:"請確認是否刪除","close-modal":o.handleOpenModal},null,8,["close-modal"]),(0,r._)("p",Mt,(0,s.zw)(o.productData.title),1),(0,r._)("div",Pt,[(0,r._)("button",{class:"flex-auto p-2 text-white bg-danger-500 hover:bg-danger-600 rounded-md hover:shadow hover:shadow-danger-500 transition duration-300",type:"button",onClick:e[0]||(e[0]=function(t){return o.handleSetDeleteProduct(o.productData.id)})}," 確認刪除 "),(0,r._)("button",{class:"flex-auto p-2 text-white bg-gray-500 hover:bg-gray-600 rounded-md hover:shadow hover:shadow-gray-500 transition duration-300",onClick:e[1]||(e[1]=function(){return o.closeModal&&o.closeModal.apply(o,arguments)}),type:"button"}," 取消刪除 ")])])}var jt=n(4648),St={components:{ModalCardTitle:xt},setup:function(t,e){var n=(0,d.Z)(),o=n.adminProductStore,a=o.handleDeleteProduct,l=(0,i.iH)((0,jt.Z)({},o.productList.tempProduct));function c(){e.attrs.handleOpenModal(!1)}function u(t){a(t),c()}return(0,r.m0)((function(){l.value=(0,jt.Z)({},o.productList.tempProduct)})),{productData:l,handleSetDeleteProduct:u,handleOpenModal:e.attrs.handleOpenModal,closeModal:c}}};const Lt=(0,N.Z)(St,[["render",Ct]]);var Ut=Lt,zt={class:"flex overflow-hidden flex-col pb-4 space-y-4 bg-gray-50 rounded-md"},It={class:"flex gap-4 justify-between"},Ft={class:"flex-auto"},Et=(0,r._)("label",{for:"productName",class:"block mb-4"},"產品名稱",-1),Tt={class:"flex-auto"},Zt=(0,r._)("label",{for:"productContent",class:"block mb-4"},"產品說明",-1),qt={class:"flex-auto"},At=(0,r._)("label",{for:"productCategory",class:"block mb-4"},"產品類別",-1),Ht=(0,r.uE)('<option value="測試分類">測試分類</option><option value="上衣類">上衣類</option><option value="褲類">褲類</option><option value="裙類">裙類</option><option value="鞋類">鞋類</option>',5),Vt=[Ht],Gt={class:"flex-auto"},Nt=(0,r._)("label",{for:"productRating",class:"block mb-4"},"產品星級",-1),Bt=["value"],Kt={class:"flex gap-4 justify-between"},Rt={class:"flex-auto"},Wt={class:"flex gap-2 justify-between"},Yt={class:"flex-1"},Jt=(0,r._)("label",{for:"productMainImage",class:"block mb-4"},"產品主圖片",-1),$t=["src"],Qt=(0,r._)("label",{for:"productImages",class:"block mb-4"},"產品附屬圖片",-1),Xt={class:"flex gap-2 justify-between"},te={class:"relative"},ee=["src"],ne=["onClick"],re=(0,r._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-8 h-8",fill:"currentColor",viewBox:"0 0 16 16"},[(0,r._)("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),(0,r._)("path",{d:"M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"})],-1),oe=[re],ae={class:""},le=(0,r._)("label",{for:"productDescription",class:"block mb-4"},"產品描述",-1),ie={class:"flex gap-4 justify-between"},ce={class:"flex-auto"},ue=(0,r._)("label",{for:"productIsEnable",class:"block mb-4"},"產品啟用狀態",-1),de=(0,r._)("option",{value:"0"},"未啟用",-1),se=(0,r._)("option",{value:"1"},"啟用",-1),pe=(0,r._)("option",{value:"2"},"未上架",-1),fe=(0,r._)("option",{value:"3"},"已下架",-1),ge=[de,se,pe,fe],he={class:"flex-auto"},we=(0,r._)("label",{for:"productOriginPrice",class:"block mb-4"},"產品原價",-1),be={class:"flex-auto"},me=(0,r._)("label",{for:"productPrice",class:"block mb-4"},"產品最終價格",-1),ye={class:"flex-auto"},ve=(0,r._)("label",{for:"productUnit",class:"block mb-4"},"產品品項單位",-1),xe={class:"flex gap-4 justify-between"},_e={class:"flex-auto py-2 text-white bg-success-500 rounded-md hover:bg-success-600 hover:shadow hover:shadow-success-400 transition duration-300",type:"submit"};function De(t,e,n,o,a,l){var i=(0,r.up)("ModalCardTitle");return(0,r.wg)(),(0,r.iD)("section",zt,[(0,r.Wm)(i,{title:"productEdit"===o.selectType?"內容編輯":"新增產品","close-modal":o.handleOpenModal},null,8,["title","close-modal"]),(0,r._)("form",{class:"container p-4 space-y-4",onSubmit:e[12]||(e[12]=(0,R.iM)((function(){return o.handleProductAddition&&o.handleProductAddition.apply(o,arguments)}),["prevent"]))},[(0,r._)("div",It,[(0,r._)("div",Ft,[Et,(0,r.wy)((0,r._)("input",{type:"text",id:"productName",name:"productName",class:"w-full rounded","onUpdate:modelValue":e[0]||(e[0]=function(t){return o.productData.title=t}),required:""},null,512),[[R.nr,o.productData.title]])]),(0,r._)("div",Tt,[Zt,(0,r.wy)((0,r._)("input",{type:"text",id:"productContent",name:"productContent",class:"w-full rounded","onUpdate:modelValue":e[1]||(e[1]=function(t){return o.productData.content=t}),required:""},null,512),[[R.nr,o.productData.content]])]),(0,r._)("div",qt,[At,(0,r.wy)((0,r._)("select",{class:"w-full rounded",id:"productCategory",required:"","onUpdate:modelValue":e[2]||(e[2]=function(t){return o.productData.category=t})},Vt,512),[[R.bM,o.productData.category]])]),(0,r._)("div",Gt,[Nt,(0,r.wy)((0,r._)("select",{class:"w-full rounded",id:"productRating",required:"","onUpdate:modelValue":e[3]||(e[3]=function(t){return o.productData.rating=t})},[((0,r.wg)(),(0,r.iD)(r.HY,null,(0,r.Ko)(5,(function(t){return(0,r._)("option",{value:t,key:t+new Date},(0,s.zw)(t)+"星",9,Bt)})),64))],512),[[R.bM,o.productData.rating]])])]),(0,r._)("div",Kt,[(0,r._)("div",Rt,[(0,r._)("div",Wt,[(0,r._)("div",Yt,[Jt,(0,r._)("input",{type:"file",accept:"image/*",id:"productImages",name:"productImages",ref:"imageFile",class:"block file:py-2 file:px-4 file:mr-4 w-full file:text-sm text-gray-400 file:text-secondary-700 file:bg-secondary-100 hover:file:bg-secondary-300 rounded file:rounded-full file:border-0",onChange:e[4]||(e[4]=function(t){return o.handleGetImageUrl("mainImage")})},null,544)]),o.productData.imageUrl?((0,r.wg)(),(0,r.iD)("img",{key:0,class:"object-cover flex-auto max-h-48",src:o.productData.imageUrl,alt:"產品主圖"},null,8,$t)):(0,r.kq)("",!0)])])]),(0,r._)("div",null,[Qt,(0,r._)("input",{type:"file",accept:"image/*",id:"productImages",name:"productImages",ref:"imageFile",class:"block file:py-2 file:px-4 file:mr-4 w-full file:text-sm text-gray-400 file:text-secondary-700 file:bg-secondary-100 hover:file:bg-secondary-300 rounded file:rounded-full file:border-0",onChange:e[5]||(e[5]=function(t){return o.handleGetImageUrl()})},null,544)]),(0,r._)("ul",Xt,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(o.productData.imagesUrl,(function(t,e){return(0,r.wg)(),(0,r.iD)("li",{class:"flex-auto",key:t+e},[(0,r._)("div",te,[""!==t?((0,r.wg)(),(0,r.iD)("img",{key:0,class:"object-cover w-max max-h-48 rounded-xl",src:t,alt:"附屬圖片"},null,8,ee)):(0,r.kq)("",!0),(0,r._)("button",{class:"absolute top-0 right-0 p-4 text-secondary-100",type:"button",onClick:function(t){return o.handleRemoveImageArr(e)}},oe,8,ne)])])})),128))]),(0,r._)("div",ae,[le,(0,r.wy)((0,r._)("textarea",{id:"productDescription",name:"productDescription",class:"w-full rounded","onUpdate:modelValue":e[6]||(e[6]=function(t){return o.productData.description=t})},null,512),[[R.nr,o.productData.description]])]),(0,r._)("div",ie,[(0,r._)("div",ce,[ue,(0,r.wy)((0,r._)("select",{class:"w-full rounded",id:"productIsEnable",required:"","onUpdate:modelValue":e[7]||(e[7]=function(t){return o.productData.is_enabled=t})},ge,512),[[R.bM,o.productData.is_enabled]])]),(0,r._)("div",he,[we,(0,r.wy)((0,r._)("input",{type:"text",id:"productOriginPrice",name:"productOriginPrice",class:"w-full rounded","onUpdate:modelValue":e[8]||(e[8]=function(t){return o.productData.origin_price=t})},null,512),[[R.nr,o.productData.origin_price,void 0,{number:!0}]])]),(0,r._)("div",be,[me,(0,r.wy)((0,r._)("input",{type:"text",id:"productPrice",name:"productPrice",class:"w-full rounded",required:"","onUpdate:modelValue":e[9]||(e[9]=function(t){return o.productData.price=t})},null,512),[[R.nr,o.productData.price,void 0,{number:!0}]])]),(0,r._)("div",ye,[ve,(0,r.wy)((0,r._)("input",{type:"text",id:"productUnit",name:"productUnit",class:"w-full rounded","onUpdate:modelValue":e[10]||(e[10]=function(t){return o.productData.unit=t})},null,512),[[R.nr,o.productData.unit]])])]),(0,r._)("div",xe,[(0,r._)("button",_e,(0,s.zw)("productEdit"===o.selectType?"確定修改":"新增產品"),1),(0,r._)("button",{class:"flex-auto py-2 text-white bg-gray-500 hover:bg-gray-600 rounded-md hover:shadow hover:shadow-gray-400 transition duration-300",onClick:e[11]||(e[11]=function(t){return o.handleResetFormInput()}),type:"reset"},(0,s.zw)("productEdit"===o.selectType?"取消修改":"取消新增"),1)])],32)])}n(561);var Oe={components:{ModalCardTitle:xt},props:{products:Object},setup:function(t,e){var n=(0,d.Z)(),o=n.adminProductStore,a=o.handleEditProduct,l=o.handleCreateProduct,c=o.handleImageUpload,u=o.functionSelected,s=o.productList,p=(0,r.Fl)({get:function(){return(0,jt.Z)({},s.tempProduct)},set:function(t){return t}}),f=(0,i.iH)(null);function g(){e.attrs.handleOpenModal(!1)}function h(){p.value={title:"",category:"",origin_price:0,price:0,unit:"",description:"",content:"",is_enabled:"",imageUrl:"",imagesUrl:[]},g()}function w(){"productEdit"===u.selected?a(p.value.id,p.value):l(p.value),h()}function b(t){var e=f.value.files[0];console.log(f),console.log(e),c(e).then((function(e){"mainImage"===t?p.value.imageUrl=e.data.imageUrl:p.value.imagesUrl.push(e.data.imageUrl),console.log(e.data)})).catch((function(t){console.dir(t)}))}function m(t){p.value.imagesUrl.splice(t,1)}return{selectType:(0,r.Fl)((function(){return u.selected})),productData:p,imageFile:f,handleResetFormInput:h,handleProductAddition:w,handleGetImageUrl:b,handleRemoveImageArr:m,handleOpenModal:e.attrs.handleOpenModal,closeModal:g}}};const ke=(0,N.Z)(Oe,[["render",De]]);var Me=ke,Pe={components:{ProductsTable:K,ModalCardDetail:Ot,ModalCardDelete:Ut,ModalCardAddition:Me},setup:function(){var t=(0,d.Z)(),e=t.adminStore,n=t.adminProductStore,o=e.handleCheckUser,a=e.handleGetToken,l=(0,c.tv)(),s=(0,i.iH)(!1);function p(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];s.value=t,u.Vq.show("adminModal")}return(0,r.wF)((function(){a(),o();var t=a();""===t[0]&&l.push("/login")})),{handleOpenModal:p,isOpenModal:s,modalState:(0,r.Fl)((function(){return n.functionSelected.selected}))}}};const Ce=(0,N.Z)(Pe,[["render",l]]);var je=Ce},4648:function(t,e,n){"use strict";n.d(e,{Z:function(){return a}});n(7941),n(2526),n(7327),n(1539),n(5003),n(4747),n(9337);function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}}}]);
//# sourceMappingURL=885-legacy.3ded788e.js.map