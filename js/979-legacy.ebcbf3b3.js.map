{"version":3,"file":"js/979-legacy.ebcbf3b3.js","mappings":"yLAiDQA,MAAM,wD,GACLA,MAAM,sB,GAEPC,EAAAA,EAAAA,GAAkD,UAA1CD,MAAM,wBAAuB,QAAI,G,GACpCA,MAAM,a,GACTC,EAAAA,EAAAA,GAA6C,SAAtCC,IAAI,OAAOF,MAAM,SAAQ,SAAK,G,GAYlCA,MAAM,a,GACTC,EAAAA,EAAAA,GAAiD,SAA1CC,IAAI,WAAWF,MAAM,SAAQ,SAAK,G,GAW3CC,EAAAA,EAAAA,GAMS,UALPE,KAAK,SACLH,MAAM,iGAEP,QAED,G,0CAnCNI,EAAAA,EAAAA,IAsCO,OAtCP,EAsCO,EArCLH,EAAAA,EAAAA,GAoCM,MApCN,EAoCM,EAnCJA,EAAAA,EAAAA,GAkCO,QAlCDD,MAAM,2CAA4CK,SAAM,wCAAUC,EAAAA,eAAAA,EAAAA,cAAAA,MAAAA,EAAAA,aAAa,eAArF,CACEC,GACAN,EAAAA,EAAAA,GAYM,MAZN,EAYM,CAXJO,GAWI,SAVJP,EAAAA,EAAAA,GASE,SARAQ,GAAG,OACHN,KAAK,OACLO,KAAK,WACLC,YAAY,a,qDACEL,EAAAA,SAAQM,IACtBZ,MAAM,2JANR,iBAKgBM,EAAAA,cAAAA,EAAAA,C,MAAd,SAMJL,EAAAA,EAAAA,GAWM,MAXN,EAWM,CAVJY,GAUI,SATJZ,EAAAA,EAAAA,GAQE,SAPAQ,GAAG,WACHN,KAAK,WACLH,MAAM,0J,qDAGGM,EAAAA,aAAYM,IACrBD,YAAY,SAPd,iBAMWL,EAAAA,kBAIbQ,GA3BF,Q,kCA9CN,GACEC,MADa,WAEX,IAAMC,EAAUC,2CACVC,GAAQC,EAAAA,EAAAA,IAAO,SACrB,GAAuBC,EAAAA,EAAAA,KAAfC,EAAR,EAAQA,WACAC,EAAmCD,EAAnCC,eAAgBC,EAAmBF,EAAnBE,eAClBC,GAASC,EAAAA,EAAAA,MACTC,GAAWC,EAAAA,EAAAA,IAAI,IACfC,GAAeD,EAAAA,EAAAA,IAAI,IAEzB,SAASE,IACP,IAAMC,EAAWJ,EAASK,MACpBC,EAAWJ,EAAaG,MAC9Bb,EAAMe,KAAN,UAAcjB,EAAd,iBAAsC,CAAEc,SAAAA,EAAUE,SAAAA,IAC/CE,MAAK,SAACC,GACL,IAAMC,EAAO,CACXC,MAAOF,EAAIC,KAAKC,MAChBC,QAASH,EAAIC,KAAKE,SAEpBhB,EAAec,GACfZ,EAAOe,KAAK,aAEbC,OAAM,SAACC,GACNC,QAAQC,IAAIF,MAWlB,OAPAG,EAAAA,EAAAA,KAAU,WACR,IAAMC,EAActB,IACG,KAAnBsB,EAAY,SAAgCC,IAAnBD,EAAY,IACvCrB,EAAOe,KAAK,aAIT,CACLb,SAAAA,EACAE,aAAAA,EACAC,cAAAA,K,UCrCN,MAAMkB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE","sources":["webpack://vue-week6/./src/views/LoginView.vue","webpack://vue-week6/./src/views/LoginView.vue?5755"],"sourcesContent":["<script>\nimport { ref, onMounted, inject } from 'vue';\nimport { useRouter } from 'vue-router';\nimport useStore from '@/stores';\n\nexport default {\n  setup() {\n    const baseUrl = process.env.VUE_APP_API_URL;\n    const axios = inject('axios');\n    const { adminStore } = useStore();\n    const { handleSetLogin, handleGetToken } = adminStore;\n    const router = useRouter();\n    const userName = ref('');\n    const userPassword = ref('');\n\n    function handlerSubmit() {\n      const username = userName.value;\n      const password = userPassword.value;\n      axios.post(`${baseUrl}/admin/signin`, { username, password })\n        .then((res) => {\n          const data = {\n            token: res.data.token,\n            expired: res.data.expired,\n          };\n          handleSetLogin(data);\n          router.push('/admin');\n        })\n        .catch((err) => {\n          console.dir(err);\n        });\n    }\n\n    onMounted(() => {\n      const cookieToken = handleGetToken();\n      if (cookieToken[0] !== '' && cookieToken[0] !== undefined) {\n        router.push('/admin');\n      }\n    });\n\n    return {\n      userName,\n      userPassword,\n      handlerSubmit,\n    };\n  },\n};\n</script>\n\n<template>\n  <main class=\"flex justify-center items-center h-screen bg-gray-50\">\n    <div class=\"container max-w-lg\">\n      <form class=\"p-8 space-y-8 bg-white rounded shadow-sm\" @submit.prevent=\"handlerSubmit\">\n        <legend class=\"text-4xl text-center\">請先登入</legend>\n        <div class=\"space-y-4\">\n          <label for=\"name\" class=\"block\">使用者帳號</label>\n          <input\n            id=\"name\"\n            type=\"text\"\n            name=\"userName\"\n            placeholder=\"請輸入帳號Email\"\n            v-model.trim=\"userName\"\n            class=\"p-2 w-full text-primary-800 border\n            focus:text-primary-600 bg-gray-50 rounded focus:ring-primary-500\n            invalid:border-primary-600 invalid:text-primary-600\"\n          />\n        </div>\n        <div class=\"space-y-4\">\n          <label for=\"password\" class=\"block\">使用者密碼</label>\n          <input\n            id=\"password\"\n            type=\"password\"\n            class=\"p-2 w-full text-primary-800 bg-gray-50 rounded border\n            invalid:text-primary-600 invalid:border-primary-600\n            focus:text-primary-600 focus:ring-primary-500\"\n            v-model=\"userPassword\"\n            placeholder=\"請輸入密碼\"\n          />\n        </div>\n        <button\n          type=\"submit\"\n          class=\"py-4 w-full text-white bg-primary-500 hover:bg-primary-600 rounded-lg\n          transition duration-300\"\n        >\n          登入\n        </button>\n      </form>\n    </div>\n  </main>\n</template>\n","import { render } from \"./LoginView.vue?vue&type=template&id=28f83316\"\nimport script from \"./LoginView.vue?vue&type=script&lang=js\"\nexport * from \"./LoginView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Volumes/DATA/Design_Craft/Web/Vue-hexschool/vue-week6/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","for","type","_createElementBlock","onSubmit","$setup","_hoisted_3","_hoisted_5","id","name","placeholder","$event","_hoisted_7","_hoisted_8","setup","baseUrl","process","axios","inject","useStore","adminStore","handleSetLogin","handleGetToken","router","useRouter","userName","ref","userPassword","handlerSubmit","username","value","password","post","then","res","data","token","expired","push","catch","err","console","dir","onMounted","cookieToken","undefined","__exports__","render"],"sourceRoot":""}